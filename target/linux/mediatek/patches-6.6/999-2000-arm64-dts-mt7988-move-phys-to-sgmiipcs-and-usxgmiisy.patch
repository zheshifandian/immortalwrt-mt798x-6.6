From a470ccb0e299f36e38a715c6d1b3631243e71e77 Mon Sep 17 00:00:00 2001
From: Bo-Cun Chen <bc-bocun.chen@mediatek.com>
Date: Tue, 29 Oct 2024 14:18:55 +0800
Subject: [PATCH] arm64: dts: mt7988: move phys to sgmiipcs and usxgmiisys
 nodes

---
 arch/arm64/boot/dts/mediatek/mt7988a.dtsi | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

--- a/arch/arm64/boot/dts/mediatek/mt7988a.dtsi
+++ b/arch/arm64/boot/dts/mediatek/mt7988a.dtsi
@@ -631,6 +631,7 @@
 
 			sgmiipcs0: pcs {
 				compatible = "mediatek,mt7988-sgmii";
+				phys = <&xfi_tphy0>;
 				clocks = <&topckgen CLK_TOP_SGM_0_SEL>,
 					 <&sgmiisys0 CLK_SGM0_TX_EN>,
 					 <&sgmiisys0 CLK_SGM0_RX_EN>;
@@ -649,6 +650,7 @@
 
 			sgmiipcs1: pcs {
 				compatible = "mediatek,mt7988-sgmii";
+				phys = <&xfi_tphy1>;
 				clocks = <&topckgen CLK_TOP_SGM_1_SEL>,
 					 <&sgmiisys1 CLK_SGM1_TX_EN>,
 					 <&sgmiisys1 CLK_SGM1_RX_EN>;
@@ -660,6 +662,7 @@
 			compatible = "mediatek,mt7988-usxgmiisys";
 			reg = <0 0x10080000 0 0x1000>;
 			resets = <&watchdog MT7988_TOPRGU_XFI0_GRST>;
+			phys = <&xfi_tphy0>;
 			clocks = <&topckgen CLK_TOP_USXGMII_SBUS_0_SEL>;
 		};
 
@@ -667,6 +670,7 @@
 			compatible = "mediatek,mt7988-usxgmiisys";
 			reg = <0 0x10081000 0 0x1000>;
 			resets = <&watchdog MT7988_TOPRGU_XFI1_GRST>;
+			phys = <&xfi_tphy1>;
 			clocks = <&topckgen CLK_TOP_USXGMII_SBUS_1_SEL>;
 		};
 
@@ -1559,7 +1563,6 @@
 				reg = <1>;
 				status = "disabled";
 				pcs-handle = <&sgmiipcs1>, <&usxgmiisys1>;
-				phys = <&xfi_tphy1>;
 			};
 
 			gmac2: mac@2 {
@@ -1567,7 +1570,6 @@
 				reg = <2>;
 				status = "disabled";
 				pcs-handle = <&sgmiipcs0>, <&usxgmiisys0>;
-				phys = <&xfi_tphy0>;
 			};
 
 			mdio_bus: mdio-bus {
